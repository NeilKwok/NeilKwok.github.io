<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>从建站开始说起</title>
      <link href="/2016/01/02/1/"/>
      <url>/2016/01/02/1/</url>
      
        <content type="html"><![CDATA[<p>很久之前就想建立一个网站记录自己的学习生活。其实前段时间学习了很多种建站的方法，并且都尝试成功，只是可惜没有坚持写内容。希望从这篇开始可以一直坚持下去。这篇先分享一下建站的过程。</p><p>目前我已经使用过建站的方法有下面几种：</p><ol><li><p>在<code>LNMP</code>(<code>Linux</code>+<code>Nginx</code>+<code>MySQL</code>+<code>Php</code>)环境下，使用<code>Wordpress</code>建站。</p><blockquote><p>Nginx是著名的Web服务器，目前大量企业在使用，同时也可以作为反向代理服务器。作为目前最火的两大Web服务器之一，它灵活小巧，性能强大。</p><p>Wordpress是用Php语言编写的CMS程序，一般多用于博客，公司产品介绍等类型网站。建立网站非常简单快捷，只需要简单配置就可以开始内容创作，有功能丰富的管理界面，还有丰富的网站模板以及各种插件实现各种功能。</p></blockquote></li><li><p>使用<code>Hexo</code>建立静态博客，并挂载到<code>Github Pages</code>和<code>Coding Pages</code>。</p><blockquote><p>Github Pages是Github的免费服务，但是只支持静态页面。</p></blockquote></li><li><p>使用Django建站。</p></li></ol><p>由于科学上网的需要，去年租了一个VPS，因为梯子占用资源很少，为了不浪费，同时用Wordpress建了一个站，不过由于连接速度问题，一到晚上就龟速，之后就一直没管了，哈哈。因为我的需求只是写写日记，所以简单便捷而且还稳定的Hexo就是首选。</p><p>以下就先介绍Hexo建站的方法。</p><h3 id="域名准备"><a href="#域名准备" class="headerlink" title="域名准备"></a>域名准备</h3><p>要弄一个自己的网站首先要有一个有自己特色的自定义域名。.com/.cn是常用的域名，一般价格都比较贵，自己折腾显然不适合。ICANN发布了很多新的域名，比如.top/.cc/.club等，这些就相对便宜很多，最便宜一年10块就搞定了，但是缺点就是一年过后再续费就贵好多倍了，所以如果几年之内不打算换域名的话，建议直接买10年的，最便宜300块左右吧，比每年续费便宜的多的多。</p><p>购买网站有很多，国内万网，国外Godaddy，我是在万网上买的，没具体对比过价格，感觉差不多。</p><p>域名买好后就要选择域名解析商了，我这里推荐用DNSpod。首先先注册DNSpod，查看DNSpod的域名服务器。然后去买域名的网站上设置解析服务器。这样就设置好了解析，剩下的就是建好网站后再添加解析记录了。</p><h3 id="Github配置"><a href="#Github配置" class="headerlink" title="Github配置"></a>Github配置</h3><p>Github又称Gayhub，世界最大的同性交友网站…不对，是代码托管网站…</p><p>注册好之后要先建立一个Pages项目得到项目仓库的地址。</p><p>然后电脑上下载安装<a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a>程序，安装完成后打开Git Bash，输入命令（邮箱地址任意）建立ssh密钥：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"your_email@example.com"</span></span><br><span class="line"><span class="comment"># Creates a new ssh key using the provided email</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/your_home_path/.ssh/id_rsa):</span><br></pre></td></tr></table></figure><p>使用记事本打开新创建的公钥文件<code>id_rsa.pub</code> 并复制所有内容，然后进入Github设置页面，将复制的内容粘贴在SSH Keys中。到现在就可以在桌面端通过Git自由地访问Github远程仓库了。</p><h3 id="安装配置Hexo"><a href="#安装配置Hexo" class="headerlink" title="安装配置Hexo"></a>安装配置Hexo</h3><p>关于最新版Hexo的说明见<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">官网</a>。</p><p>Hexo主要是在本地配置，每次更新博客内容后通过本地编译，将文件通过Git指令推送到远程仓库。</p><p>首先需要安装<a href="https://nodejs.org/en/" target="_blank" rel="noopener">node.js</a>，安装时一定要选择加入环境变量，否则自己手动设置就很麻烦。安装完成后打开Git Bash安装Hexo：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>建立网站目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>然后在目录下就生成了网站的文件。打开_config.yml文件对网站进行基本设置，比如网站名，动态效果，目录啊什么的，其中最重要的是最后的部分Deploy，配置远程仓库地址：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: </span><br><span class="line">        github: git@github.com: &lt;Your Repo&gt;</span><br><span class="line">  #branch: master</span><br></pre></td></tr></table></figure><p>配置好之后就可以开心地使用Hexo了，可以去官网下载主题，对网站进行各种设置。配置文件中有具体说明，可以自由发挥~</p><p>配置好之后可以本地查看效果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g // 网站的任何修改，包括更改设置、更新博客等，都需要操作一次。</span><br><span class="line">$ hexo s// 运行本地服务器，可以打开浏览器访问127.0.0.1:4000查看具体效果。</span><br></pre></td></tr></table></figure><p>现在就可以建立第一篇博客：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">'Your first blog'</span></span><br></pre></td></tr></table></figure><p>新文件就生成在网站source/post目录中：Your first blog.md，博客使用markdown语法编写，推荐使用Typora进行编辑。写完博客后在本地看一下效果后就可以推送到Github上了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g // 网站的任何修改，包括更改设置、更新博客等，都需要操作一次。</span><br><span class="line">$ hexo s// 运行本地服务器，可以打开浏览器访问127.0.0.1:4000查看具体效果。</span><br><span class="line">$ hexo d// 远程部署</span><br></pre></td></tr></table></figure><h3 id="访问网站与域名绑定"><a href="#访问网站与域名绑定" class="headerlink" title="访问网站与域名绑定"></a>访问网站与域名绑定</h3><p>到Github项目页面上，找到项目设置，在设置中设置Pages的二级域名。然后访问这个二级域名验证是否能成功打开自己的网站。</p><p>如果想要用自己的域名访问Github Pages的话就需要在域名解析服务商添加CNAME记录。添加记录后过一段时间就可以用自己的域名访问了。</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
